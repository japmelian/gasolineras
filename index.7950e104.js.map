{"mappings":"CAuCAA,eAA2BC,SACjBC,MAAMD,GACPE,MAAMC,GACIA,EAASC,SAEnBF,MAAMG,KA5Cf,SAAsBC,GAClB,IAAIC,EAAMC,EAAED,IAAI,OAAOE,QAAQ,CAAC,UAAU,SAAW,GAErDD,EAAEE,UAAU,yHAA0H,CAClIC,QAAS,GACTC,YAAa,mCACdC,MAAMN,GAET,IAAK,IAAIO,KAAYR,EAAC,gBAAqB,CAGvC,IAAIS,EAAOC,OAAOC,WAAWX,EAAC,gBAAoBQ,GAArB,QAA0CI,QAAQ,IAAK,MAChFC,EAAOH,OAAOC,WAAWX,EAAC,gBAAoBQ,GAAU,oBAAoBI,QAAQ,IAAK,MAEzFE,EAAUd,EAAC,gBAAoBQ,GAAU,yBACzCO,EAAUf,EAAC,gBAAoBQ,GAAU,yBACzCQ,EAAQhB,EAAC,gBAAoBQ,GAAU,oBAIvCS,EAAO,8BACXA,GAAQ,MAHSjB,EAAC,gBAAoBQ,GAAU,aAGnB,OAC7BS,GAAQ,OACRA,GAAQ,iCAAmCH,EAAU,YACrDG,GAAQ,iCAAmCF,EAAU,YACrDE,GAAQ,4BAA8BD,EAAQ,YAC9CC,GAAQ,QAEIf,EAAEgB,aAAa,CAACT,EAAMI,GAAO,CACrCM,OAAQ,EACRC,OAAQ,EACRC,QAAS,EACTC,YAAa,GACbC,MAAO,UACPC,UAAW,YACZjB,MAAMN,GAAKwB,UAAUR,IAUpBS,CAAa3B,MAEhB4B,OAAM,SAAUC,GACbC,QAAQC,IAAIF,MAOxBG,CAFY","sources":["src/js/index.ts"],"sourcesContent":["function generateData(d) {\n    let map = L.map('map').setView([40.41694, -3.70361], 6);\n\n    L.tileLayer('https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png?api_key=4571e300-9d19-4c0b-8c5e-e8d3377d85bf', {\n        maxZoom: 19,\n        attribution: '© OpenStreetMap | © StadiaMaps'\n    }).addTo(map);\n\n    for (let estacion in d['ListaEESSPrecio']) {\n        //console.log(Object.keys(d['ListaEESSPrecio'][estacion]))\n\n        let _lat = Number.parseFloat(d['ListaEESSPrecio'][estacion]['Latitud'].replace(',', '.'))\n        let _lon = Number.parseFloat(d['ListaEESSPrecio'][estacion]['Longitud (WGS84)'].replace(',', '.'))\n\n        let _gasA95 = d['ListaEESSPrecio'][estacion]['Precio Gasolina 95 E5']\n        let _gasA98 = d['ListaEESSPrecio'][estacion]['Precio Gasolina 98 E5']\n        let _gasA = d['ListaEESSPrecio'][estacion]['Precio Gasoleo A']\n\n        let _direccion = d['ListaEESSPrecio'][estacion]['Dirección']\n\n        let info = '<p> <b> Dirección </b> </p>'\n        info += '<p>' + _direccion + '</p>'\n        info += '<ul>'\n        info += '<li> <b> Gasolina 95 E5: </b> ' + _gasA95 + '€/l </li>'\n        info += '<li> <b> Gasolina 98 E5: </b> ' + _gasA98 + '€/l </li>'\n        info += '<li> <b> Gasoleo A: </b> ' + _gasA + '€/l </li>'\n        info += '</ul>'\n\n        let point = L.circleMarker([_lat, _lon], {\n            radius: 2,\n            border: 2,\n            opacity: 0,\n            fillOpacity: 0.5,\n            color: '#144696',\n            fillColor: '#0096c8'\n        }).addTo(map).bindPopup(info);\n    }\n}\n\nasync function funcRequest(url) {\n    await fetch(url)\n        .then((response) => {\n            return response.json(); // data into json\n        })\n        .then((data) => {\n            generateData(data)\n        })\n        .catch(function (error) {\n            console.log(error);\n        });\n\n}\n\nconst url = 'https://sedeaplicaciones.minetur.gob.es/ServiciosRESTCarburantes/PreciosCarburantes/EstacionesTerrestres/';\n\nfuncRequest(url);"],"names":["async","url","fetch","then","response","json","data","d","map","L","setView","tileLayer","maxZoom","attribution","addTo","estacion","_lat","Number","parseFloat","replace","_lon","_gasA95","_gasA98","_gasA","info","circleMarker","radius","border","opacity","fillOpacity","color","fillColor","bindPopup","generateData","catch","error","console","log","funcRequest"],"version":3,"file":"index.7950e104.js.map"}